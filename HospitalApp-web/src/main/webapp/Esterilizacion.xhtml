<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

    <h:form id="ConsentimientoEst">
        <p:growl id="growl" showDetail="true"/>
        <p:panelGrid columns="1" styleClass="companyHeaderGrid">

            <p:panel id="InformacionPersonalEst" header="Datos del Paciente">
                <p:panelGrid columns="6">
                    <p:outputLabel  for="Rut" value="Rut: " />
                    <p:autoComplete requiredMessage="Rut Invalido" id="Rut" value="#{consentimientoInf.rut}" completeMethod="#{busquedaMB.completarRutMujer}" 
                                    var="rut" itemLabel="#{rut}" itemValue="#{rut}">
                        <!--<f:validator validatorId="Validator.RutValidator"/>-->
                        <p:ajax event="blur" listener="#{consentimientoInf.buscarPaciente(actionEvent)}" update="InformacionPersonalEst"/>
                    </p:autoComplete>
                    <p:message for="Rut" display="icon"/>

                    <p:outputLabel for="Nombres" value="Nombres: " />
                    <p:inputText readonly="true" id="Nombres" value="#{consentimientoInf.nombres}" />                   
                    <p:message for="Nombres" display="icon"/>

                    <p:outputLabel for="Paterno" value="Apellido Paterno: " />
                    <p:inputText readonly="true" id="Paterno" value="#{consentimientoInf.apellidoPaterno}" />                  
                    <p:message for="Paterno" display="icon"/>

                    <p:outputLabel for="Materno" value="Apellido Materno: "/>
                    <p:inputText readonly="true" id="Materno" value="#{consentimientoInf.apellidoMaterno}" />              
                    <p:message for="Materno" display="icon"/>

                    <p:outputLabel for="numFicha" value="Numero de Ficha: "/>
                    <p:inputText readonly="true" id="numFicha" value="#{consentimientoInf.numeroFicha}" />
                    <p:message for="numFicha" display="icon"/>

                    <p:outputLabel  value=" "/>
                    <p:outputLabel  value=" "/>
                    <p:outputLabel  value=" "/>
                    
                    <p:outputLabel for="domicilio" value="Domicilio: "/>
                    <p:inputText readonly="true" id="domicilio" value="#{consentimientoInf.direccion}" />              
                    <p:message for="domicilio" display="icon"/>
                    
                    <p:outputLabel for="consultorio" value="Consultorio: "/>
                    <p:inputText readonly="true" id="consultorio" value="#{consentimientoInf.consultorio}" />              
                    <p:message for="consultorio" display="icon"/>
                    
                    <p:outputLabel for="FechaNaci" value="Fecha de Nacimiento: " />
                    <p:calendar readonly="true" id="FechaNaci" effect="explode" yearRange="c-100:c" navigator="true" value="#{consentimientoInf.fechaNacimiento}">                        
                        
                    </p:calendar>
                    <p:message for="FechaNaci" display="icon"/>
                    
                    
                    
                    <p:outputLabel for="paridad" value="Paridad: "/>
                    <p:inputText id="paridad" value="#{consentimientoInf.paridad}" />              
                    <p:message for="paridad" display="icon"/>
                    
                    <p:outputLabel value="F.O: "/>
                    <p:selectOneMenu id="estFO" value="#{consentimientoInf.fo}" > 
                        <f:selectItem itemLabel="G" itemValue="G" />
                        <f:selectItem itemLabel="P" itemValue="P" />
                        <f:selectItem itemLabel="A" itemValue="A" />                        
                    </p:selectOneMenu>
                    <p:message for="estFO" display="icon"/>
                    
                    <p:outputLabel for="hijosVivos" value="Hijos Vivos Actualmente: "/>
                    <p:inputText id="hijosVivos" value="#{consentimientoInf.hijosVivos}" />              
                    <p:message for="hijosVivos" display="icon"/>
                    
                    <h:outputText value="Embarazada Actualmente: " />  
                    <p:selectBooleanCheckbox id = "id1" value="#{consentimientoInf.embarazada}"  >                            
                    </p:selectBooleanCheckbox>
                    <p:message id="msgMaq" for="id1"  /> 
                    
                    <p:outputLabel for="FechaParto" value="Fecha Probable de Parto: " />
                    <p:calendar readonly="true" id="FechaParto" effect="explode" yearRange="c-100:c" navigator="true" value="#{consentimientoInf.fpp}">                        
                    </p:calendar>
                    <p:message for="FechaParto" display="icon"/>

                </p:panelGrid>


            </p:panel>

            <p:panel id="InformacionProfesionalEst" header="Datos del Médico o Profesional Responsable">
                <p:panelGrid columns="6">
                    <p:outputLabel for="RutProf" value="Rut: "/>
                    <p:autoComplete id="RutProf" value="#{consentimientoInf.rutProf}" completeMethod="#{busquedaMB.completarRutProf}" 
                                    var="rut" itemLabel="#{rut}" itemValue="#{rut}">
                        <!--<f:validator validatorId="Validator.RutValidator"/>-->
                        <p:ajax event="blur" listener="#{consentimientoInf.buscarProfesional(actionEvent)}" update="InformacionProfesionalEst"/>
                    </p:autoComplete>
                    <p:message for="RutProf" display="icon"/>

                    <p:outputLabel for="NombresProf" value="Nombres: " />
                    <p:inputText readonly="true" id="NombresProf" value="#{consentimientoInf.nombresProf}" />                   
                    <p:message for="NombresProf" display="icon"/>

                    <p:outputLabel for="PaternoProf" value="Apellido Paterno: " />
                    <p:inputText readonly="true" id="PaternoProf" value="#{consentimientoInf.apellidoPaternoProf}" />                  
                    <p:message for="PaternoProf" display="icon"/>

                    <p:outputLabel for="MaternoProf" value="Apellido Materno: "/>
                    <p:inputText readonly="true" id="MaternoProf" value="#{consentimientoInf.apellidoMaternoProf}" />              
                    <p:message for="MaternoProf" display="icon"/>                    
                    
                    <p:outputLabel for="Fecha" value="Fecha : " />
                    <p:calendar id="Fecha" readonly="true"  value="#{consentimientoInf.fecha}">                        
                    </p:calendar>
                    <p:message for="Fecha" display="icon"/>
                    
                    <p:outputLabel value="Firma: " />
                    <p:outputLabel value="____________________" /> 


                </p:panelGrid>
            </p:panel>            

            <p:panel id="ConsentimientoEst" toggleable="true" header="Consentimiento">
                <div align="justify">
                    Yo, anteriormente identificada, en conocimiento de los derechos que otorga la legislacion chilena
                    y a las directrices para los Servicios de Salud sobre la Esterilización Femenina y Maculina,
                    emanadas del Ministerio de Salud, he sido informado y se me han aclarado las dudas respecto de la
                    Esterilización Quirúrgica Voluntaria y de otros métodos de regulación de la fertilidad que yo pudiera
                    elegir usar:
                    <br></br>
                </div>
                <div align="justify">
                        <br></br>
                        1. Me han explicado que en los Consultorios de Atención Primaria, se cuenta con Métodos Anticonceptivos
                        reversibles, tales como la T con Cobre (Dispositivo Intrauterino - DIU), Hormonales orales y Condones,
                        todos ellos de distribuición gratuita, y que existen a la venta en el comercio otros de similares características.<br></br> 
                        2. Mr han explicado que la Esterilización Quirúrgica Voluntaria (EQV) que solicito, es una intervención cuyos
                        detalles y riesgos son los siguientes:<br></br>
                            <br></br>
                            - Que es considerada irreversible, es decir, que es probable que no podré embarazarme nunca más, si la
                            operación es exitosa.<br></br> 
                            - Que puede fallar: una a tres de cada 1000 mujeres operadas, podrían embarazarse.<br></br> 
                            - Que una vez operdad, si deseare un embarazo deberé someterme a una nueva intervención
                            quirúrgica de alta complejidad, que demanda requisitos que debo cumplir en ese momento, y cuyo éxito
                            varía entre 0 y 40%. La factibilidad de realizarla la decidirá el equipo médico de acuerdo al caso en
                            particular y las disponibilidades materiales y técnicas al momento de la solicitud.<br></br> 
                            - Que podré acceder a la Esterilización Quirúrgica en la medida que el Servicio de Salud disponga de los
                            recursos para efectuar este procedimiento.<br></br> 
                            - Que la intervención se debe efectuar bajo anestesia regional (raquídea o epidural) o general y la
                            matrona ma explicado los riesgos que esta implica y doy mi consentimiento para la administración de
                            los anestésicos, transfusiones o tratamiento alternativos a la transfusión disponibles que se consideren
                            necesarios para preservar mi estado de salud durante mi intervención y hospitalización.<br></br> 
                            - Que una vez firmada esta solicitud por el profesional tratante y por mí, debo solicitar hora a través de los
                            mecanismos habituales para ser evaluada médicamente en el Servicio Clínico de Obstetricia y
                            Ginecología correspondiente, donde se confeccionará una ficha clínica y se solicitarán en los exámenes
                            preoperatorios.<br></br> 
                            - Que también puede practicarse la esterilización durante la realización de una operación cesárea,
                            evitando una segunda intervención quirúrgica.<br></br> 
                            <br></br>
                        3. Me han explicado que podré cambiar mi decisión de esterilizarme quirúrgicamente antes de iniciado el
                        procedimiento y que el Servicio de Salud me seguirá atendiendo de manera habitual.<br></br> 
                        4. Me han explicado que existe la posibilidad que mi pareja (hombre) también pueda acceder a esterilización
                        quirúrgica voluntaria (Vasectomía). He tomado conocimiento de las alternativas donde puede realizarse, sus
                        ventajas y riesgos.<br></br>                         
                </div>             
                <br/>
                <br/>
                <p:outputLabel value="Estado: "/>
                <p:selectOneMenu id="est" value="#{consentimientoInf.estado}" > 
                    <f:selectItem itemLabel="Pendiente" itemValue="Pendiente" />
                    <f:selectItem itemLabel="Confirmado" itemValue="Confirmado" />
                    <f:selectItem itemLabel="Revoco" itemValue="Revoco" />                        
                </p:selectOneMenu>
                <p:panelGrid columns="1" >
                    <p:outputLabel value=" "/>
                    <p:outputLabel value=" "/>
                    <p:outputLabel value=" "/>
                    <p:outputLabel value=" "/>
                    <p:outputLabel value="______________________ "/>
                    <div align="center">
                        Firma del paciente
                    </div>

                </p:panelGrid>
            </p:panel>
        </p:panelGrid>
        <p:commandButton   value="Imprimir" disabled="#{consentimientoInf.guardadoEst == false}"   update="ConsentimientoEst" >
            <p:printer target="ConsentimientoEst"  />
        </p:commandButton>
        <p:commandButton  value="Guardar" actionListener="#{consentimientoInf.guardarConsentimientoEst()}" disabled="#{consentimientoInf.guardadoEst == true}"  update=":ConsentimientoEst" />
        <p:commandButton  value="Limpiar Datos" actionListener="#{consentimientoInf.limpiarDatos()}" update=":ConsentimientoEst" />
        
    </h:form>

</html>



