<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

    <h:form id="ConsentimientoEst">
        <p:growl id="growl" showDetail="true"/>
        <p:panelGrid columns="1" styleClass="companyHeaderGrid">

            <p:panel id="InformacionPersonalEst" header="Datos del Paciente">
                <p:panelGrid columns="6">
                    <p:outputLabel  for="Rut" value="Rut: " />
                    <p:autoComplete requiredMessage="Rut Invalido" id="Rut" value="#{consentimientoInf.rut}" completeMethod="#{busquedaMB.completarRutMujer}" 
                                    var="rut" itemLabel="#{rut}" itemValue="#{rut}">
                        <!--<f:validator validatorId="Validator.RutValidator"/>-->
                        <p:ajax event="blur" listener="#{consentimientoInf.buscarPaciente(actionEvent)}" update="InformacionPersonalEst"/>
                    </p:autoComplete>
                    <p:message for="Rut" display="icon"/>

                    <p:outputLabel for="Nombres" value="Nombres: " />
                    <p:inputText readonly="true" id="Nombres" value="#{consentimientoInf.nombres}" />                   
                    <p:message for="Nombres" display="icon"/>

                    <p:outputLabel for="Paterno" value="Apellido Paterno: " />
                    <p:inputText readonly="true" id="Paterno" value="#{consentimientoInf.apellidoPaterno}" />                  
                    <p:message for="Paterno" display="icon"/>

                    <p:outputLabel for="Materno" value="Apellido Materno: "/>
                    <p:inputText readonly="true" id="Materno" value="#{consentimientoInf.apellidoMaterno}" />              
                    <p:message for="Materno" display="icon"/>

                    <p:outputLabel for="numFicha" value="Numero de Ficha: "/>
                    <p:inputText readonly="true" id="numFicha" value="#{consentimientoInf.numeroFicha}" />
                    <p:message for="numFicha" display="icon"/>

                    <p:outputLabel  value=" "/>
                    <p:outputLabel  value=" "/>
                    <p:outputLabel  value=" "/>
                    
                    <p:outputLabel for="domicilio" value="Domicilio: "/>
                    <p:inputText readonly="true" id="domicilio" value="#{consentimientoInf.direccion}" />              
                    <p:message for="domicilio" display="icon"/>
                    
                    <p:outputLabel for="consultorio" value="Consultorio: "/>
                    <p:inputText readonly="true" id="consultorio" value="#{consentimientoInf.consultorio}" />              
                    <p:message for="consultorio" display="icon"/>
                    
                    <p:outputLabel for="FechaNaci" value="Fecha de Nacimiento: " />
                    <p:calendar readonly="true" id="FechaNaci" effect="explode" yearRange="c-100:c" navigator="true" value="#{consentimientoInf.fechaNacimiento}">                        
                        
                    </p:calendar>
                    <p:message for="FechaNaci" display="icon"/>
                    
                    
                    
                    <p:outputLabel for="paridad" value="Paridad: "/>
                    <p:inputText id="paridad" value="#{consentimientoInf.paridad}" />              
                    <p:message for="paridad" display="icon"/>
                    
                    <p:outputLabel value="F.O: "/>
                    <p:selectOneMenu id="estFO" value="#{consentimientoInf.fo}" > 
                        <f:selectItem itemLabel="G" itemValue="G" />
                        <f:selectItem itemLabel="P" itemValue="P" />
                        <f:selectItem itemLabel="A" itemValue="A" />                        
                    </p:selectOneMenu>
                    <p:message for="estFO" display="icon"/>
                    
                    <p:outputLabel for="hijosVivos" value="Hijos Vivos Actualmente: "/>
                    <p:inputText id="hijosVivos" value="#{consentimientoInf.hijosVivos}" />              
                    <p:message for="hijosVivos" display="icon"/>
                    
                    <h:outputText value="Embarazada Actualmente: " />  
                    <p:selectBooleanCheckbox id = "id1" value="#{consentimientoInf.embarazada}"  >                            
                    </p:selectBooleanCheckbox>
                    <p:message id="msgMaq" for="id1"  /> 
                    
                    <p:outputLabel for="FechaParto" value="Fecha Probable de Parto: " />
                    <p:calendar readonly="true" id="FechaParto" effect="explode" yearRange="c-100:c" navigator="true" value="#{consentimientoInf.fpp}">                        
                    </p:calendar>
                    <p:message for="FechaParto" display="icon"/>

                </p:panelGrid>


            </p:panel>

            <p:panel id="InformacionProfesionalEst" header="Datos del MÃ©dico o Profesional Responsable">
                <p:panelGrid columns="6">
                    <p:outputLabel for="RutProf" value="Rut: "/>
                    <p:autoComplete id="RutProf" value="#{consentimientoInf.rutProf}" completeMethod="#{busquedaMB.completarRutProf}" 
                                    var="rut" itemLabel="#{rut}" itemValue="#{rut}">
                        <!--<f:validator validatorId="Validator.RutValidator"/>-->
                        <p:ajax event="blur" listener="#{consentimientoInf.buscarProfesional(actionEvent)}" update="InformacionProfesionalEst"/>
                    </p:autoComplete>
                    <p:message for="RutProf" display="icon"/>

                    <p:outputLabel for="NombresProf" value="Nombres: " />
                    <p:inputText readonly="true" id="NombresProf" value="#{consentimientoInf.nombresProf}" />                   
                    <p:message for="NombresProf" display="icon"/>

                    <p:outputLabel for="PaternoProf" value="Apellido Paterno: " />
                    <p:inputText readonly="true" id="PaternoProf" value="#{consentimientoInf.apellidoPaternoProf}" />                  
                    <p:message for="PaternoProf" display="icon"/>

                    <p:outputLabel for="MaternoProf" value="Apellido Materno: "/>
                    <p:inputText readonly="true" id="MaternoProf" value="#{consentimientoInf.apellidoMaternoProf}" />              
                    <p:message for="MaternoProf" display="icon"/>                    
                    
                    <p:outputLabel for="Fecha" value="Fecha : " />
                    <p:calendar id="Fecha" readonly="true"  value="#{consentimientoInf.fecha}">                        
                    </p:calendar>
                    <p:message for="Fecha" display="icon"/>
                    
                    <p:outputLabel value="Firma: " />
                    <p:outputLabel value="____________________" /> 


                </p:panelGrid>
            </p:panel>            

            <p:panel id="ConsentimientoEst" toggleable="true" header="Consentimiento">
                <div align="justify">
                    Yo, anteriormente identificado... 
                </div>             

                <p:outputLabel value="Estado: "/>
                <p:selectOneMenu id="est" value="#{consentimientoInf.estado}" > 
                    <f:selectItem itemLabel="Pendiente" itemValue="Pendiente" />
                    <f:selectItem itemLabel="Confirmado" itemValue="Confirmado" />
                    <f:selectItem itemLabel="Revoco" itemValue="Revoco" />                        
                </p:selectOneMenu>
                <p:panelGrid columns="1" >
                    <p:outputLabel value=" "/>
                    <p:outputLabel value=" "/>
                    <p:outputLabel value=" "/>
                    <p:outputLabel value=" "/>
                    <p:outputLabel value="______________________ "/>
                    <div align="center">
                        Firma del paciente
                    </div>

                </p:panelGrid>
            </p:panel>
        </p:panelGrid>
        <p:commandButton   value="Imprimir" disabled="#{consentimientoInf.guardadoEst == false}"   update="ConsentimientoEst" >
            <p:printer target="ConsentimientoEst"  />
        </p:commandButton>
        <p:commandButton  value="Guardar" actionListener="#{consentimientoInf.guardarConsentimientoEst()}" disabled="#{consentimientoInf.guardadoEst == true}"  update=":ConsentimientoEst" />
        <p:commandButton  value="Limpiar Datos" actionListener="#{consentimientoInf.limpiarDatos()}" update=":ConsentimientoEst" />
        
    </h:form>

</html>



